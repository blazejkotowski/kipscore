%table#players-table.table.table-condensed
  %thead
    %tr
      %th= I18n.t("custom_translations.player", :default => "player").capitalize
      %th= I18n.t("custom_translations.rank", :default => "rank").capitalize
      - if edit
        %th= I18n.t("custom_translations.action", :default => "action").capitalize
    - if edit
      %tr
        %th
          = text_field_tag "player[name]", '', :data => { :autocomplete_source => "/players/autocomplete" }
        %th
          = text_field_tag "player[rank]", '', :class => 'rank'
        %th
          = submit_tag '+', :class => 'btn btn-success btn-medium'
  %tbody
    - unless @tournament.players.empty?
      - players = @tournament.players.latest if edit
      - players = @tournament.players.best unless edit
      - players.each do |player|
        %tr{ :data => { :id => player.id } }
          %td= player.name
          %td= player.rank
          - if edit
            %td= link_to '-', tournament_player_path(@tournament, player), :method => 'delete', :remote => 'true', :class => 'btn btn-danger btn-medium delete-player'
